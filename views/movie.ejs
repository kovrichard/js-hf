
<!DOCTYPE html>
<html>
    <head>
        <%- include('header', {title: 'Movie'}) %>
    </head>

    <body>
        <%- include('navbar', {active: ''}) %>

        <main class="d-flex flex-column">
            <div class="container">
                <div class="W-100 d-flex justify-content-center pb-5">
                    <div class="welcome-card rented-movies p-5 mt-5">
                        <div class="text-center pb-3">
                            <h3>
                                <%= movie.title %>
                            </h3>
                        </div>
                        <table class="table table-borderless table-striped px-2">
                            <tbody>
                                <tr>
                                    <td scope="col" class="text-right">
                                        Directed by
                                    </td>
                                    <td scope="col" class="text-left">
                                        <%= movie.directedby %>
                                    </td>
                                </tr>
                                <tr>
                                    <td scope="col" class="text-right">
                                        Year
                                    </td>
                                    <td scope="col" class="text-left">
                                        <%= movie.year %>
                                    </td>
                                </tr>
                                <tr>
                                    <td scope="col" class="text-right">
                                        Category
                                    </td>
                                    <td scope="col" class="text-left">
                                        <%= movie.category %>
                                    </td>
                                </tr>
                                <tr>
                                    <td scope="col" class="text-right">
                                        Cast
                                    </td>
                                    <td scope="col" class="text-left">
                                        <ul>
                                            <% movie.cast.forEach((actor) => { %>
                                                <li>
                                                    <%= actor %>
                                                </li>
                                            <% }); %>
                                        </ul>
                                    </td>
                                </tr>
                                <tr>
                                    <td scope="col" class="text-right">
                                        Available
                                    </td>
                                    <td scope="col" class="text-left">
                                        <%= movie.available %>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="text-center">
                            <img src="<%= movie.image %>" style="max-height:20rem;">
                        </div>
                        <div class="d-flex flex-row justify-content-around">
                            <div class="text-center pt-3">
                                <form method="POST" action="/movie/<%= movie.id %>/rent">
                                    <button type="submit" class="btn login_btn">Rent</button>
                                </form>
                            </div>
                            <% if (typeof user !== 'undefined' && user.isadmin)  { %>
                                <div class="text-center pt-3">
                                    <a type="button" class="btn login_btn" href="/movie/<%= movie.id %>/modify">Modify</a>
                                </div>
                            <% } %>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </body>
</html>
